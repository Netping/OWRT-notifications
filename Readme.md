https://netping.atlassian.net/wiki/spaces/NW/pages/3428646916/EPIC3+OWRT+Notifications

ubus send signal '{ "event" : "temperature", "temp" : 71}' - отправка сигнала с "датчика"
ubus send commit '{ "config", "notifyconf" }' - обновление конфига для обновления списка нотификаторов


## Заметки по Frontend

Текушая версия - это ранняя реализация интерфейса пользователя, включающая следующиё функции:
1. Выбор базовых условий отправки уведомления:
* Ошибка
* Нет связи
* Перезагрузка
2. Для каждого базового условия можно задать шаблон текста уведомления
3. Шаблоны текста уведомлений реализованы в 3-х видах: syslog, email, sms
4. Текст шаблонов позволяет подставлять переменные вида %_user_%
5. Блок "Условия отправки" - статический HTML
6. Блок "Режим молчания" включает следующий функции:
* Добавить интервал
* Date widget
* Time range widget
* Сводка (итог настроек)

## Структура файлов

```
.
├── luasrc
│   ├── controller
│   │   └── netping_notification
│   ├── model
│   │   ├── cbi
│   │   │   └── netping_notification
│   │   └── netping_notification
│   │       └── relay
│   │           └── adapter
│   └── view
│       └── netping_notification
│           ├── ui_override
│           ├── ui_util
│           └── ui_widget
└── root
    └── www
        └── lua-static
            └── resources
                └── netping
                    ├── datepicker
                    ├── fonts
                    ├── icons
                    ├── jquery
                    ├── nearley
                    ├── rslider
                    └── utils

```

Для сохранения возможности демонстрации, некоторые директории относятся к функциональности Netping Relay, в рамках которой изначально разрабатывался данный модуль.

## Известные недочёты

Поскольку реализация первой версии модуля была отложена, существует ряд недоработок:

* Функция сохранения настроек в Config-файл не реализована (частично). Большинство настроек сохраняется во внутренний кэш браузера.
* Виджет подстановки переменных в шаблон текста сообщения не учитывает скроллинг страницы
* Требуется существенный рефакторинг

